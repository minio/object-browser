{"version":3,"file":"static/js/8350.df759d74.chunk.js","mappings":"2JA0DA,KAAeA,EAAAA,EAAAA,IA/BA,SAACC,GAAD,OACbC,EAAAA,EAAAA,GAAa,CACXC,gBAAiB,CACfC,gBAAiB,UACjBC,aAAc,EACdC,aAAc,GACdC,QAAS,EACTC,cAAe,IAEjBC,cAAe,CACbC,MAAO,UACPC,SAAU,GACVC,WAAY,IAEdC,UAAW,CACTH,MAAO,UACPC,SAAU,GACVC,WAAY,GACZE,YAAa,KAlBJ,GA+Bf,EATuB,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,QAASC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,MACxC,OACE,iBAAKC,UAAWH,EAAQZ,gBAAxB,WACE,eAAIe,UAAWH,EAAQN,cAAvB,SAAuCQ,KACvC,gBAAKC,UAAWH,EAAQF,UAAxB,SAAoCG,MAGzC,G,gLCkED,UArFqB,SAAC,GAIA,IAHpBG,EAGmB,EAHnBA,WACAC,EAEmB,EAFnBA,eACAC,EACmB,EADnBA,2BAEMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAOA,GAA0CF,EAAAA,EAAAA,WAAkB,GAA5D,eAAOG,EAAP,KAAsBC,EAAtB,KAEA,GAAyCC,EAAAA,EAAAA,IAPpB,kBAAMR,GAA2B,EAAjC,IACF,SAACS,GAAD,OACjBR,GAASS,EAAAA,EAAAA,IAAqBD,GADb,IAMnB,eAAOE,EAAP,KAAsBC,EAAtB,KAiBA,OACE,SAAC,IAAD,CACEhB,MAAK,gBACLiB,YAAa,SACbC,OAAQhB,EACRiB,WAAW,SAAC,MAAD,IACXC,UAAWL,EACXM,UAtBoB,WAClBb,IAAiBL,EAAemB,KAOpCN,EACE,SADa,6BAESb,EAAeoB,UAFxB,oBAE6CpB,EAAemB,MACzE,CAAEE,YAAad,KATfI,EAAAA,EAAAA,IAAqB,CACnBW,aAAc,2BACdC,cAAe,IASpB,EAUGC,QA7BY,kBAAMvB,GAA2B,EAAjC,EA8BZwB,mBAAoB,CAClBC,SAAUrB,IAAiBL,EAAemB,MAAQP,GAEpDe,qBACE,UAAC,IAAD,WACGpB,IACC,SAAC,KAAD,CAAMqB,MAAI,EAACC,GAAI,GAAf,UACE,SAAC,IAAD,CACEhC,MAAO,UACPD,MACE,qFANV,4BAW0B,uBAAII,EAAemB,OAX7C,gBAYE,UAAC,KAAD,CAAMS,MAAI,EAACC,GAAI,GAAf,WACE,SAAC,IAAD,CACEC,GAAG,gBACHX,KAAK,gBACLY,SAAU,SAACC,GACT1B,EAAgB0B,EAAMC,OAAOC,MAC9B,EACDtC,MAAM,GACNsC,MAAO7B,KAET,mBACA,SAAC,IAAD,CACE8B,QAAS5B,EACTuB,GAAE,iBACFlC,MAAO,iBACPuB,KAAI,iBACJY,SAAU,WACRvB,GAAkBD,EACnB,EACD2B,MAAO3B,WAOpB,C","sources":["screens/Console/Common/WarningMessage/WarningMessage.tsx","screens/Console/Tenants/ListTenants/DeleteTenant.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\r\n// Copyright (c) 2022 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React from \"react\";\r\nimport { Theme } from \"@mui/material/styles\";\r\nimport createStyles from \"@mui/styles/createStyles\";\r\nimport withStyles from \"@mui/styles/withStyles\";\r\n\r\ninterface IWarningMessage {\r\n  classes: any;\r\n  label: any;\r\n  title: any;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    headerContainer: {\r\n      backgroundColor: \"#e78794\",\r\n      borderRadius: 3,\r\n      marginBottom: 20,\r\n      padding: 1,\r\n      paddingBottom: 15,\r\n    },\r\n    labelHeadline: {\r\n      color: \"#000000\",\r\n      fontSize: 14,\r\n      marginLeft: 20,\r\n    },\r\n    labelText: {\r\n      color: \"#000000\",\r\n      fontSize: 14,\r\n      marginLeft: 20,\r\n      marginRight: 40,\r\n    },\r\n  });\r\n\r\nconst WarningMessage = ({ classes, label, title }: IWarningMessage) => {\r\n  return (\r\n    <div className={classes.headerContainer}>\r\n      <h4 className={classes.labelHeadline}>{title}</h4>\r\n      <div className={classes.labelText}>{label}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(WarningMessage);\r\n","// This file is part of MinIO Console Server\r\n// Copyright (c) 2021 MinIO, Inc.\r\n//\r\n// This program is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU Affero General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// This program is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU Affero General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU Affero General Public License\r\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\nimport React, { useState } from \"react\";\r\nimport { DialogContentText } from \"@mui/material\";\r\nimport { ITenant } from \"./types\";\r\n\r\nimport { ErrorResponseHandler } from \"../../../../common/types\";\r\nimport InputBoxWrapper from \"../../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport useApi from \"../../Common/Hooks/useApi\";\r\nimport ConfirmDialog from \"../../Common/ModalWrapper/ConfirmDialog\";\r\nimport { ConfirmDeleteIcon } from \"../../../../icons\";\r\nimport WarningMessage from \"../../Common/WarningMessage/WarningMessage\";\r\nimport FormSwitchWrapper from \"../../Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper\";\r\nimport { setErrorSnackMessage } from \"../../../../systemSlice\";\r\nimport { useAppDispatch } from \"../../../../store\";\r\n\r\ninterface IDeleteTenant {\r\n  deleteOpen: boolean;\r\n  selectedTenant: ITenant;\r\n  closeDeleteModalAndRefresh: (refreshList: boolean) => any;\r\n}\r\n\r\nconst DeleteTenant = ({\r\n  deleteOpen,\r\n  selectedTenant,\r\n  closeDeleteModalAndRefresh,\r\n}: IDeleteTenant) => {\r\n  const dispatch = useAppDispatch();\r\n  const [retypeTenant, setRetypeTenant] = useState(\"\");\r\n\r\n  const onDelSuccess = () => closeDeleteModalAndRefresh(true);\r\n  const onDelError = (err: ErrorResponseHandler) =>\r\n    dispatch(setErrorSnackMessage(err));\r\n  const onClose = () => closeDeleteModalAndRefresh(false);\r\n\r\n  const [deleteVolumes, setDeleteVolumes] = useState<boolean>(false);\r\n\r\n  const [deleteLoading, invokeDeleteApi] = useApi(onDelSuccess, onDelError);\r\n\r\n  const onConfirmDelete = () => {\r\n    if (retypeTenant !== selectedTenant.name) {\r\n      setErrorSnackMessage({\r\n        errorMessage: \"Tenant name is incorrect\",\r\n        detailedError: \"\",\r\n      });\r\n      return;\r\n    }\r\n    invokeDeleteApi(\r\n      \"DELETE\",\r\n      `/api/v1/namespaces/${selectedTenant.namespace}/tenants/${selectedTenant.name}`,\r\n      { delete_pvcs: deleteVolumes }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ConfirmDialog\r\n      title={`Delete Tenant`}\r\n      confirmText={\"Delete\"}\r\n      isOpen={deleteOpen}\r\n      titleIcon={<ConfirmDeleteIcon />}\r\n      isLoading={deleteLoading}\r\n      onConfirm={onConfirmDelete}\r\n      onClose={onClose}\r\n      confirmButtonProps={{\r\n        disabled: retypeTenant !== selectedTenant.name || deleteLoading,\r\n      }}\r\n      confirmationContent={\r\n        <DialogContentText>\r\n          {deleteVolumes && (\r\n            <Grid item xs={12}>\r\n              <WarningMessage\r\n                title={\"WARNING\"}\r\n                label={\r\n                  \"Delete Volumes: Data will be permanently deleted. Please proceed with caution.\"\r\n                }\r\n              />\r\n            </Grid>\r\n          )}\r\n          To continue please type <b>{selectedTenant.name}</b> in the box.\r\n          <Grid item xs={12}>\r\n            <InputBoxWrapper\r\n              id=\"retype-tenant\"\r\n              name=\"retype-tenant\"\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\r\n                setRetypeTenant(event.target.value);\r\n              }}\r\n              label=\"\"\r\n              value={retypeTenant}\r\n            />\r\n            <br />\r\n            <FormSwitchWrapper\r\n              checked={deleteVolumes}\r\n              id={`delete-volumes`}\r\n              label={\"Delete Volumes\"}\r\n              name={`delete-volumes`}\r\n              onChange={() => {\r\n                setDeleteVolumes(!deleteVolumes);\r\n              }}\r\n              value={deleteVolumes}\r\n            />\r\n          </Grid>\r\n        </DialogContentText>\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default DeleteTenant;\r\n"],"names":["withStyles","theme","createStyles","headerContainer","backgroundColor","borderRadius","marginBottom","padding","paddingBottom","labelHeadline","color","fontSize","marginLeft","labelText","marginRight","classes","label","title","className","deleteOpen","selectedTenant","closeDeleteModalAndRefresh","dispatch","useAppDispatch","useState","retypeTenant","setRetypeTenant","deleteVolumes","setDeleteVolumes","useApi","err","setErrorSnackMessage","deleteLoading","invokeDeleteApi","confirmText","isOpen","titleIcon","isLoading","onConfirm","name","namespace","delete_pvcs","errorMessage","detailedError","onClose","confirmButtonProps","disabled","confirmationContent","item","xs","id","onChange","event","target","value","checked"],"sourceRoot":""}