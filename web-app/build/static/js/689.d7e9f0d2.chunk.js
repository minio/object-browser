"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[689],{689:(e,a,l)=>{l.r(a),l.d(a,{default:()=>U});var t=l(89379),s=l(65043),u=l(73216),r=l(33097),n=l.n(r),o=l(89923),i=l(56629),c=l(53518),b=l(77403),v=l(20755),d=l(99161),S=l(64159),g=l(20554);const h=[{label:"US East (Ohio)",value:"us-east-2"},{label:"US East (N. Virginia)",value:"us-east-1"},{label:"US West (N. California)",value:"us-west-1"},{label:"US West (Oregon)",value:"us-west-2"},{label:"Africa (Cape Town)",value:"af-south-1"},{label:"Asia Pacific (Hong Kong)***",value:"ap-east-1"},{label:"Asia Pacific (Jakarta)",value:"ap-southeast-3"},{label:"Asia Pacific (Mumbai)",value:"ap-south-1"},{label:"Asia Pacific (Osaka)",value:"ap-northeast-3"},{label:"Asia Pacific (Seoul)",value:"ap-northeast-2"},{label:"Asia Pacific (Singapore)",value:"ap-southeast-1"},{label:"Asia Pacific (Sydney)",value:"ap-southeast-2"},{label:"Asia Pacific (Tokyo)",value:"ap-northeast-1"},{label:"Canada (Central)",value:"ca-central-1"},{label:"China (Beijing)",value:"cn-north-1"},{label:"China (Ningxia)",value:"cn-northwest-1"},{label:"Europe (Frankfurt)",value:"eu-central-1"},{label:"Europe (Ireland)",value:"eu-west-1"},{label:"Europe (London)",value:"eu-west-2"},{label:"Europe (Milan)",value:"eu-south-1"},{label:"Europe (Paris)",value:"eu-west-3"},{label:"Europe (Stockholm)",value:"eu-north-1"},{label:"South America (S\xe3o Paulo)",value:"sa-east-1"},{label:"Middle East (Bahrain)",value:"me-south-1"},{label:"AWS GovCloud (US-East)",value:"us-gov-east-1"},{label:"AWS GovCloud (US-West)",value:"us-gov-west-1"}],A=[{label:"Montr\xe9al",value:"NORTHAMERICA-NORTHEAST1"},{label:"Toronto",value:"NORTHAMERICA-NORTHEAST2"},{label:"Iowa",value:"US-CENTRAL1"},{label:"South Carolina",value:"US-EAST1"},{label:"Northern Virginia",value:"US-EAST4"},{label:"Oregon",value:"US-WEST1"},{label:"Los Angeles",value:"US-WEST2"},{label:"Salt Lake City",value:"US-WEST3"},{label:"Las Vegas",value:"US-WEST4"},{label:"S\xe3o Paulo",value:"SOUTHAMERICA-EAST1"},{label:"Santiago",value:"SOUTHAMERICA-WEST1"},{label:"Warsaw",value:"EUROPE-CENTRAL2"},{label:"Finland",value:"EUROPE-NORTH1"},{label:"Belgium",value:"EUROPE-WEST1"},{label:"London",value:"EUROPE-WEST2"},{label:"Frankfurt",value:"EUROPE-WEST3"},{label:"Netherlands",value:"EUROPE-WEST4"},{label:"Z\xfcrich",value:"EUROPE-WEST6"},{label:"Taiwan",value:"ASIA-EAST1"},{label:"Hong Kong",value:"ASIA-EAST2"},{label:"Tokyo",value:"ASIA-NORTHEAST1"},{label:"Osaka",value:"ASIA-NORTHEAST2"},{label:"Seoul",value:"ASIA-NORTHEAST3"},{label:"Mumbai",value:"ASIA-SOUTH1"},{label:"Delhi",value:"ASIA-SOUTH2"},{label:"Singapore",value:"ASIA-SOUTHEAST1"},{label:"Jakarta",value:"ASIA-SOUTHEAST2"},{label:"Sydney",value:"AUSTRALIA-SOUTHEAST1"},{label:"Melbourne",value:"AUSTRALIA-SOUTHEAST2"}],E=[{label:"Asia",value:"asia"},{label:"Asia Pacific",value:"asiapacific"},{label:"Australia",value:"australia"},{label:"Australia Central",value:"australiacentral"},{label:"Australia Central 2",value:"australiacentral2"},{label:"Australia East",value:"australiaeast"},{label:"Australia Southeast",value:"australiasoutheast"},{label:"Brazil",value:"brazil"},{label:"Brazil South",value:"brazilsouth"},{label:"Brazil Southeast",value:"brazilsoutheast"},{label:"Canada",value:"canada"},{label:"Canada Central",value:"canadacentral"},{label:"Canada East",value:"canadaeast"},{label:"Central India",value:"centralindia"},{label:"Central US",value:"centralus"},{label:"Central US (Stage)",value:"centralusstage"},{label:"Central US EUAP",value:"centraluseuap"},{label:"East Asia",value:"eastasia"},{label:"East Asia (Stage)",value:"eastasiastage"},{label:"East US",value:"eastus"},{label:"East US (Stage)",value:"eastusstage"},{label:"East US 2",value:"eastus2"},{label:"East US 2 (Stage)",value:"eastus2stage"},{label:"East US 2 EUAP",value:"eastus2euap"},{label:"Europe",value:"europe"},{label:"France",value:"france"},{label:"France Central",value:"francecentral"},{label:"France South",value:"francesouth"},{label:"Germany",value:"germany"},{label:"Germany North",value:"germanynorth"},{label:"Germany West Central",value:"germanywestcentral"},{label:"Global",value:"global"},{label:"India",value:"india"},{label:"Japan",value:"japan"},{label:"Japan East",value:"japaneast"},{label:"Japan West",value:"japanwest"},{label:"Jio India Central",value:"jioindiacentral"},{label:"Jio India West",value:"jioindiawest"},{label:"Korea",value:"korea"},{label:"Korea Central",value:"koreacentral"},{label:"Korea South",value:"koreasouth"},{label:"North Central US",value:"northcentralus"},{label:"North Central US (Stage)",value:"northcentralusstage"},{label:"North Europe",value:"northeurope"},{label:"Norway",value:"norway"},{label:"Norway East",value:"norwayeast"},{label:"Norway West",value:"norwaywest"},{label:"South Africa",value:"southafrica"},{label:"South Africa North",value:"southafricanorth"},{label:"South Africa West",value:"southafricawest"},{label:"South Central US",value:"southcentralus"},{label:"South Central US (Stage)",value:"southcentralusstage"},{label:"South India",value:"southindia"},{label:"Southeast Asia",value:"southeastasia"},{label:"Southeast Asia (Stage)",value:"southeastasiastage"},{label:"Sweden Central",value:"swedencentral"},{label:"Switzerland",value:"switzerland"},{label:"Switzerland North",value:"switzerlandnorth"},{label:"Switzerland West",value:"switzerlandwest"},{label:"UAE Central",value:"uaecentral"},{label:"UAE North",value:"uaenorth"},{label:"UK South",value:"uksouth"},{label:"UK West",value:"ukwest"},{label:"United Arab Emirates",value:"uae"},{label:"United Kingdom",value:"uk"},{label:"United States",value:"unitedstates"},{label:"United States EUAP",value:"unitedstateseuap"},{label:"West Central US",value:"westcentralus"},{label:"West Europe",value:"westeurope"},{label:"West India",value:"westindia"},{label:"West US",value:"westus"},{label:"West US (Stage)",value:"westusstage"},{label:"West US 2",value:"westus2"},{label:"West US 2 (Stage)",value:"westus2stage"},{label:"West US 3",value:"westus3"}];var p=l(70579);const m=e=>{let{label:a,onChange:l,type:t,tooltip:u="",required:r=!1,disabled:n,placeholder:i}=e;const c=(e=>{let a=[];return"s3"===e&&(a=h),"gcs"===e&&(a=A),"azure"===e&&(a=E),a.map(e=>({value:e.value,label:"".concat(e.label," - ").concat(e.value)}))})(t),[b,v]=(0,s.useState)("");return"minio"===t?(0,p.jsx)(o.cl_,{label:a,disabled:n,required:r,tooltip:u,value:b,placeholder:i,id:"region-list",onChange:e=>{v(e.target.value),l(e.target.value)}}):(0,p.jsx)(o.jT8,{label:a,disabled:n,required:r,tooltip:u,options:c,value:b,placeholder:i,id:"region-list",onChange:e=>{v(e),l(e)}})};var C=l(48793),T=l(79331);const U=()=>{const e=(0,g.jL)(),a=(0,u.Zp)(),l=(0,u.g)(),[r,h]=(0,s.useState)(!1),[A,E]=(0,s.useState)(""),[U,x]=(0,s.useState)(""),[w,f]=(0,s.useState)(""),[j,y]=(0,s.useState)(""),[k,N]=(0,s.useState)(""),[W,O]=(0,s.useState)(""),[R,I]=(0,s.useState)(""),[z,P]=(0,s.useState)(""),[H,K]=(0,s.useState)(""),[_,F]=(0,s.useState)(""),[q,M]=(0,s.useState)(""),[B,G]=(0,s.useState)(""),[L,J]=(0,s.useState)(""),Z=n()(l,"service","s3"),[D,X]=(0,s.useState)(!0),[V,$]=(0,s.useState)(""),Q=(0,s.useCallback)(()=>/^[A-Z0-9-_]+$/.test(A)?($(""),!0):($("Please verify that string is uppercase only and contains valid characters (numbers, dashes & underscores)."),!1),[A]);(0,s.useEffect)(()=>{if(r){let l={},s={name:A,endpoint:U,bucket:w,prefix:j,region:k},u=Z;switch(Z){case"minio":l={minio:(0,t.A)((0,t.A)({},s),{},{accesskey:R,secretkey:z})};break;case"s3":l={s3:(0,t.A)((0,t.A)({},s),{},{accesskey:R,secretkey:z,storageclass:W})};break;case"gcs":l={gcs:(0,t.A)((0,t.A)({},s),{},{creds:_})};break;case"azure":l={azure:(0,t.A)((0,t.A)({},s),{},{accountname:q,accountkey:B})}}let r=(0,t.A)({type:u},l);i.F.admin.addTier(r).then(()=>{h(!1),a(d.zZ.TIERS)}).catch(async a=>{const l=await a.json();h(!1),e((0,S.C9)((0,c.S)(l)))})}},[R,B,q,w,_,U,A,j,k,r,z,e,W,Z,a]),(0,s.useEffect)(()=>{let e=!0;""===Z&&(e=!1),""!==A&&Q()||(e=!1),""===U&&(e=!1),""===w&&(e=!1),""===k&&"minio"!==Z&&(e=!1),"s3"!==Z&&"minio"!==Z||(""===R&&(e=!1),""===z&&(e=!1)),"gcs"===Z&&""===_&&(e=!1),"azure"===Z&&(""===q&&(e=!1),""===B&&(e=!1)),X(e)},[R,B,q,w,_,U,D,A,j,k,z,W,Z,Q]),(0,s.useEffect)(()=>{switch(Z){case"gcs":x("https://storage.googleapis.com"),J("Google Cloud");break;case"s3":x("https://s3.amazonaws.com"),J("Amazon S3");break;case"azure":x("http://blob.core.windows.net"),J("Azure");break;case"minio":x(""),J("MinIO")}},[Z]);const Y=v._T.find(e=>e.serviceName===Z);return(0,s.useEffect)(()=>{e((0,S.ph)("add-tier-configuration"))},[]),(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(C.A,{label:(0,p.jsx)(s.Fragment,{children:(0,p.jsx)(o.EGL,{label:"Add Tier",onClick:()=>a(d.zZ.TIERS_ADD)})}),actions:(0,p.jsx)(T.A,{})}),(0,p.jsx)(o.Mxu,{children:(0,p.jsx)(o.xA9,{item:!0,xs:12,sx:{border:"1px solid #eaeaea",padding:"25px"},children:(0,p.jsxs)("form",{noValidate:!0,onSubmit:e=>{e.preventDefault(),h(!0)},children:[""!==Z&&Y?(0,p.jsxs)(o._xt,{icon:Y.logo,sx:{marginBottom:20},children:[L||""," - Add Tier Configuration"]}):null,(0,p.jsx)(o.xA9,{item:!0,xs:12,sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gridAutoFlow:"row",gridRowGap:20,gridColumnGap:50,["@media (max-width: ".concat(o.nmC.sm,"px)")]:{gridTemplateColumns:"1fr",gridAutoFlow:"dense"}},children:""!==Z&&(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(o.cl_,{id:"name",name:"name",label:"Name",placeholder:"Enter Name (Eg. REMOTE-TIER)",value:A,onChange:e=>{E(e.target.value.toUpperCase())},error:V,required:!0}),(0,p.jsx)(o.cl_,{id:"endpoint",name:"endpoint",label:"Endpoint",placeholder:"Enter Endpoint",value:U,onChange:e=>{x(e.target.value)},required:!0}),(Z===v.pW||Z===v.vH)&&(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(o.cl_,{id:"accessKey",name:"accessKey",label:"Access Key",placeholder:"Enter Access Key",value:R,onChange:e=>{I(e.target.value)},required:!0}),(0,p.jsx)(o.cl_,{id:"secretKey",name:"secretKey",label:"Secret Key",placeholder:"Enter Secret Key",value:z,onChange:e=>{P(e.target.value)},required:!0})]}),Z===v.qA&&(0,p.jsx)(o.SxS,{accept:".json",id:"creds",label:"Credentials",name:"creds",returnEncodedData:!0,onChange:(e,a,l)=>{l&&(F(l),K(a))},value:H,required:!0}),Z===v.y&&(0,p.jsxs)(s.Fragment,{children:[(0,p.jsx)(o.cl_,{id:"accountName",name:"accountName",label:"Account Name",placeholder:"Enter Account Name",value:q,onChange:e=>{M(e.target.value)},required:!0}),(0,p.jsx)(o.cl_,{id:"accountKey",name:"accountKey",label:"Account Key",placeholder:"Enter Account Key",value:B,onChange:e=>{G(e.target.value)},required:!0})]}),(0,p.jsx)(o.cl_,{id:"bucket",name:"bucket",label:"Bucket",placeholder:"Enter Bucket",value:w,onChange:e=>{f(e.target.value)},required:!0}),(0,p.jsx)(o.cl_,{id:"prefix",name:"prefix",label:"Prefix",placeholder:"Enter Prefix",value:j,onChange:e=>{y(e.target.value)}}),(0,p.jsx)(m,{onChange:e=>{N(e)},required:"minio"!==Z,label:"Region",id:"region",type:Z}),Z===v.pW&&(0,p.jsx)(o.cl_,{id:"storageClass",name:"storageClass",label:"Storage Class",placeholder:"Enter Storage Class",value:W,onChange:e=>{O(e.target.value)}})]})}),(0,p.jsx)(o.xA9,{item:!0,xs:12,sx:b.Uz.modalButtonBar,children:(0,p.jsx)(o.$nd,{id:"save-tier-configuration",type:"submit",variant:"callAction",disabled:r||!D,label:"Save Tier Configuration"})})]})})})]})}},20755:(e,a,l)=>{l.d(a,{_T:()=>i,pW:()=>n,qA:()=>r,vH:()=>u,y:()=>o});var t=l(89923),s=l(70579);const u="minio",r="gcs",n="s3",o="azure",i=[{serviceName:u,targetTitle:"MinIO",logo:(0,s.jsx)(t.Wh8,{}),logoXs:(0,s.jsx)(t.$2v,{})},{serviceName:r,targetTitle:"Google Cloud Storage",logo:(0,s.jsx)(t.F7U,{}),logoXs:(0,s.jsx)(t.gwF,{})},{serviceName:n,targetTitle:"AWS S3",logo:(0,s.jsx)(t._tF,{}),logoXs:(0,s.jsx)(t.ZZX,{})},{serviceName:o,targetTitle:"Azure",logo:(0,s.jsx)(t.Nmx,{}),logoXs:(0,s.jsx)(t.Ubg,{})}]}}]);
//# sourceMappingURL=689.d7e9f0d2.chunk.js.map